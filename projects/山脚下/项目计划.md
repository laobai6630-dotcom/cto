📊 山脚下项目 - 进度跟踪表（完整版）

项目名称：山脚下 - A股"山脚下"形态股票精准筛选系统
项目版本：v2.0
最后更新时间：2025-12-18
项目状态：规划完成，待启动（阶段0）
负责人：项目经理

---

## 📌 项目快速入口

### 核心文档
| 文档 | 本地路径 | GitHub链接 | 说明 |
|------|---------|-----------|------|
| **项目计划v2.0** | `D:\cto\projects\山脚下\项目计划.md` | [GitHub](https://github.com/laobai6630-dotcom/cto/blob/main/projects/山脚下/项目计划.md) | 完整的2000+行项目计划书 |
| **目录导航** | `D:\cto\projects\山脚下\项目计划_目录导航.md` | [GitHub](https://github.com/laobai6630-dotcom/cto/blob/main/projects/山脚下/项目计划_目录导航.md) | 快速导航到关键章节 |
| **进度跟踪** | `D:\cto\projects\山脚下\进度跟踪.md` | [GitHub](https://github.com/laobai6630-dotcom/cto/blob/main/projects/山脚下/进度跟踪.md) | 本文档 - 实时项目进度 |
| **快速恢复** | `D:\cto\projects\山脚下\新聊天快速恢复.md` | [GitHub](https://github.com/laobai6630-dotcom/cto/blob/main/projects/山脚下/新聊天快速恢复.md) | 新窗口快速恢复文档 |

### GitHub仓库
- **仓库地址**: https://github.com/laobai6630-dotcom/cto/
- **项目路径**: `projects/山脚下/`
- **分支**: `main`

---

## 🎯 项目概述

### 项目目标
建立A股"山脚下"形态股票精准筛选系统，通过：
- 识别30个交易日涨幅>50%的成功样本
- 提取88个特征（含筹码分布、AI合成、对照组对比）
- 使用3模型集成进行相似度筛选（50%→40%→30%递进）
- 建立对照组验证特征稳健性和区分度
- 30天动态跟踪和策略优化反馈

### 核心改动（v1.0 → v2.0）
| # | 改动项 | 初稿 | 本稿 | 影响 |
|---|--------|------|------|------|
| 1 | 特征数量 | 70-80个 | 88个 | 特征体系、ML模型 |
| 2 | 数据保留期 | 30天 | 180个交易日 ✅ | 数据采集、历史查询 |
| 3 | 特征时间窗口 | 30日 | 20个交易日 ✅ | 特征工程 |
| 4 | 对照组 | 无 | 跌幅前20名 ✅ | 相似度筛选、Dashboard |
| 5 | 筹码分布 | 简述 | 独立维度（权重0.2） | ML模型 |
| 6 | 消息面分析 | 人工 | 新增员工职位 | 权重调整 |
| 7 | GitHub触发 | 定时 | 事件驱动 | workflow配置 |
| 8 | 密码保护 | 无 | 必需 | 网页认证 |
| 9 | 监督员工 | 无 | 新增职位 | 项目监督 |

### 7项核心要求（同等级，必须全部实现）
1️⃣ 框架不管由谁生成，都要给一个备份  
2️⃣ 每完成一步要用户确认才能写入步骤完成  
3️⃣ 同步GitHub要随时提醒  
4️⃣ 项目增加一个员工负责消息面分析  
5️⃣ 需要一个网页观察GitHub工作进度（包括可调整的功能按钮）  
6️⃣ 网页中英文双语，所有按钮都有中文  
7️⃣ 网页有密码：无密码可浏览，输入密码才能修改  

---

## 📅 4阶段实现进度概览

| 阶段 | 名称 | 周期 | 主要任务 | 当前状态 |
|------|------|------|---------|--------|
| 0 | 规划完成 | 已完成 | 项目计划v2.0制定 | ✅ 完成 |
| 1 | 基础框架搭建 | 第1-2周 | 数据采集、特征提取、ML模型 | ⏳ 待启动 |
| 2 | 相似度筛选+对照组 | 第3周 | 筛选、对照组分析、30天跟踪 | ⏳ 待启动 |
| 3 | 高级功能+工作流 | 第4周 | Dashboard、GitHub工作流、监督报告 | ⏳ 待启动 |
| 4 | 优化+文档+上线 | 第5周+ | 性能优化、文档完善、项目上线 | ⏳ 待启动 |

---

## 📌 阶段0：规划完成 ✅

**期间**：2025-12-15 至 2025-12-17

### 完成内容
- ✅ 制定项目计划v2.0（包含对照组功能）
- ✅ 整理88个特征体系
- ✅ 设计对照组分析方案
- ✅ 规划5个员工职位和权限（项目经理、数据分析员、算法工程师、消息面分析员、监督员工）
- ✅ 上传项目计划到GitHub
- ✅ 创建项目导航索引
- ✅ 准备四个数据采集程序清单

### 下阶段启动时间
预计：**2025-12-18**（立即启动阶段1）

---

## 🎯 18步实现清单（总体里程碑）

| # | 实现步骤 | 完成标准 | 责任人 | 状态 | 确认 |
|---|---------|--------|--------|------|------|
| 1 | 数据采集框架 | 4个采集程序正常运行 | AI Agent | ⏳ | ☐ |
| 2 | 触发机制 | github_trigger.py可成功触发workflow | AI Agent | ⏳ | ☐ |
| 3 | 特征提取 | 134原始+10AI+10筹码特征完整 | AI Agent | ⏳ | ☐ |
| 4 | 特征工程 | 88特征标准化和重要性排名完成 | AI Agent | ⏳ | ☐ |
| 5 | ML模型 | 3模型集成，精度>0.85 | AI Agent | ⏳ | ☐ |
| 6 | 对照组识别 | 成功识别跌幅前20名股票 | AI Agent | ⏳ | ☐ |
| 7 | 对照组特征 | 对照组88特征提取完整 | AI Agent | ⏳ | ☐ |
| 8 | 对比分析 | 分离度评分>0.8 | AI Agent | ⏳ | ☐ |
| 9 | 相似度筛选 | 候选筛选完成，支持递进 | AI Agent | ⏳ | ☐ |
| 10 | 30天跟踪 | 跟踪数据完整，报告生成 | AI Agent | ⏳ | ☐ |
| 11 | Dashboard基础 | 候选+对照+参数面板完成 | AI Agent | ⏳ | ☐ |
| 12 | 密码保护 | 无密码查看，密码后修改 | AI Agent | ⏳ | ☐ |
| 13 | 双语支持 | 所有按钮和页面中英双语 | AI Agent | ⏳ | ☐ |
| 14 | GitHub工作流 | 5个yml完整配置 | AI Agent | ⏳ | ☐ |
| 15 | 自托管Runner | Runner安装完成，可执行 | 项目经理 | ⏳ | ☐ |
| 16 | 监督报告 | supervisor_report.json生成 | AI Agent | ⏳ | ☐ |
| 17 | 文档完善 | 所有使用手册已完成 | AI Agent | ⏳ | ☐ |
| 18 | 项目上线 | 项目可稳定运维 | 项目经理 | ⏳ | ☐ |

---

## 📊 阶段1详细进度：基础框架搭建

**阶段目标**：完成数据采集、特征提取、基础ML模型  
**周期**：第1-2周  
**负责人**：AI Agent（代码）+ 项目经理（确认）  
**预计完成时间**：2025-12-31  

### 🔧 模块1：数据采集（已有4个程序）

**说明**：基于已有的四个采集程序进行整合和调度

| 程序 | 说明 | 输出文件 | 调度 | 状态 |
|------|------|--------|------|------|
| 日线和分钟线数据获取.py | 日K线+10/30/60分钟线 | daily_data.csv、minute_*.csv | 每日09:00 | ⏳ 待集成 |
| 周线数据获取.py | 周K线数据 | weekly_data.csv | 每周一16:00 | ⏳ 待集成 |
| 月线数据获取.py | 月K线数据 | monthly_data.csv | 每月1日16:00 | ⏳ 待集成 |
| 财务和基本面数据获取.py | 财务指标和基本面 | financial_data.csv | 每交易日10:00 | ⏳ 待集成 |

**具体任务**：

- [ ] **Task 1.1**: 审查并测试四个现有采集程序
  - 验证API连接是否正常
  - 检查数据格式是否正确
  - 测试输出文件生成
  - 状态：⏳ 待开发
  - 确认标准：4个程序都能成功运行并输出数据

- [ ] **Task 1.2**: 创建 scheduler_main.py - 主调度程序
  - 集成APScheduler框架
  - 配置4个程序的定时任务
  - 实现错误重试机制
  - 记录执行日志
  - 状态：⏳ 待开发
  - 确认标准：调度程序可自动执行四个采集任务

- [ ] **Task 1.3**: 数据清洗和预处理
  - 数据验证（缺值检查、类型检查）
  - 异常值处理
  - 字段标准化
  - 状态：⏳ 待开发
  - 确认标准：数据质量达标，清洗日志完整

- [ ] **Task 1.4**: 历史数据备份策略
  - 实现daily_data_backup_YYYY-MM-DD.csv（每日备份）
  - 实现自动清理（超过180个交易日的备份）
  - 验证备份完整性
  - 状态：⏳ 待开发
  - 确认标准：备份机制正常运作

**验收标准**：  
✅ 项目经理确认→四个数据采集程序正常运行，数据文件完整无误  
✅ 生成的CSV文件格式规范，字段齐全  
✅ 调度机制可靠，日志记录完整  

---

### 🧬 模块2：特征提取

**任务列表**：

- [ ] **Task 2.1**: feature_extraction.py - 提取134个原始特征
  - 时间窗口：从拉升日前一天向前推进20个交易日
  - 数据来源：daily_data.csv + 历史备份
  - 特征类别：价格、成交量、涨跌幅、技术指标等
  - 输出：raw_features.csv（134列）
  - 状态：⏳ 待开发
  - 确认标准：134个特征计算无误，无NaN值或异常

- [ ] **Task 2.2**: ai_feature_synthesis.py - 合成10个AI特征
  - 特征类型：资金流向、技术形态、市场情绪等
  - 合成方法：组合、加权、变换
  - 权重：最高优先级（1.5倍）
  - 输出：ai_synthetic_features.csv（10列）
  - 状态：⏳ 待开发
  - 确认标准：10个AI特征合理有效

- [ ] **Task 2.3**: chip_distribution.py - 计算10个筹码特征
  - 特征类型：集中度、锁定率、成本均线、分布宽度等
  - 权重：0.2（在相似度筛选中）
  - 输出：chip_features.csv（10列）、cost_distribution.csv（分价位数据）
  - 状态：⏳ 待开发
  - 确认标准：筹码特征计算准确

- [ ] **Task 2.4**: feature_normalization.py - 标准化所有特征
  - 方法：StandardScaler（均值0、标准差1）
  - 处理：134原始 + 10AI + 10筹码 = 154个特征
  - 输出：normalized_features.csv、all_features_88.csv（最终88个）
  - 状态：⏳ 待开发
  - 确认标准：所有特征已标准化，无异常值

- [ ] **Task 2.5**: feature_importance.py - 计算特征重要性
  - 方法：基于ML模型的特征重要性评分
  - 输出：feature_importance_ranking.csv（排序后的特征）
  - 展示：Dashboard特征重要性板块
  - 状态：⏳ 待开发
  - 确认标准：特征排名合理，Top 20特征符合预期

**验收标准**：  
✅ 项目经理确认→特征提取无误，88个特征完整  
✅ 特征数据无NaN、无异常值  
✅ 特征时间窗口为20个交易日（从拉升日前一天向前）  

---

### 🤖 模块3：机器学习模型

**任务列表**：

- [ ] **Task 3.1**: model_training.py - 训练3个基础模型
  - 模型1：逻辑回归 (Logistic Regression)
  - 模型2：随机森林 (Random Forest)
  - 模型3：梯度提升 (XGBoost/LightGBM)
  - 训练数据：成功样本（30天涨幅>50%）+ 对照组（跌幅前20%）
  - 输出：model_lr.pkl、model_rf.pkl、model_gb.pkl
  - 状态：⏳ 待开发
  - 确认标准：3个模型训练完成，无报错

- [ ] **Task 3.2**: model_ensemble.py - 集成3个模型
  - 方法：加权平均
  - 权重分配：LR 0.4 + RF 0.3 + GB 0.3
  - 输出：model_ensemble.pkl、ensemble_weights.json
  - 状态：⏳ 待开发
  - 确认标准：集成模型生成成功

- [ ] **Task 3.3**: model_evaluation.py - 模型评估
  - 评估指标：Accuracy、Precision、Recall、F1、AUC-ROC
  - 交叉验证：5折
  - 输出：model_metrics.json、evaluation_report.md
  - 状态：⏳ 待开发
  - 确认标准：模型精度 ≥ 0.85，AUC ≥ 0.80

**验收标准**：  
✅ 项目经理确认→ML模型训练完成，精度>0.85  
✅ 集成模型生成成功  
✅ 评估指标符合预期  

---

### 📦 阶段1预期产出

- ✅ daily_data.csv（最新30交易日）
- ✅ daily_data_backup_YYYY-MM-DD.csv（历史备份×180日）
- ✅ weekly_data.csv、monthly_data.csv、financial_data.csv
- ✅ raw_features.csv（134个原始特征）
- ✅ ai_synthetic_features.csv（10个AI特征）
- ✅ chip_features.csv（10个筹码特征）
- ✅ all_features_88.csv（88个特征）
- ✅ feature_importance_ranking.csv（特征排名）
- ✅ model_lr.pkl、model_rf.pkl、model_gb.pkl（3个基础模型）
- ✅ model_ensemble.pkl（集成模型）
- ✅ model_metrics.json（评估指标）
- ✅ 框架备份 v1.1（阶段1完成）

### 阶段1确认清单

- [ ] 项目经理确认：四个数据采集程序正常运行 ✅
- [ ] 项目经理确认：特征提取无误，88个特征完整 ✅
- [ ] 项目经理确认：ML模型训练完成，精度>0.85 ✅

---

## 📊 阶段2详细进度：相似度筛选+对照组+跟踪

**阶段目标**：完成相似度筛选、对照组分析、30天跟踪、基础Dashboard  
**周期**：第3周  
**负责人**：AI Agent（代码）+ 项目经理（确认）  
**预计完成时间**：2026-01-07  

### ✅ 模块1：对照组分析（新增功能）

**任务列表**：

- [ ] **Task 2.1.1**: identify_contrast_group.py - 识别对照组
  - 功能：筛选30个交易日跌幅前20名的股票
  - 逻辑：计算近30日涨跌幅排序，取跌幅前20
  - 输出：contrast_group_30d_drop_top20.csv
  - 状态：⏳ 待开发
  - 确认标准：成功识别20只对照组股票

- [ ] **Task 2.1.2**: extract_contrast_features.py - 提取对照组特征
  - 功能：为对照组生成相同的88个特征
  - 时间窗口：同样从前一天向前推进20个交易日
  - 输出：contrast_group_features.csv
  - 状态：⏳ 待开发
  - 确认标准：对照组特征与成功样本特征维度一致

- [ ] **Task 2.1.3**: compare_contrast_vs_candidates.py - 对比分析
  - 功能：对照组特征 vs 候选股票特征对比
  - 输出指标：分离度（Separation Score）
  - 作用：验证特征稳健性和区分度
  - 输出：contrast_vs_candidates_comparison.json
  - 状态：⏳ 待开发
  - 确认标准：分离度评分>0.8

**验收标准**：  
✅ 项目经理确认→对照组成功识别20只股票  
✅ 对照组特征完整且可用  
✅ 分离度评分>0.8（证明特征有区分度）  

---

### 🔗 模块2：相似度筛选

**任务列表**：

- [ ] **Task 2.2.1**: similarity_filter.py - 相似度筛选主程序
  - 集成权重：
    - ML模型预测：权重0.6
    - 筹码分布评分：权重0.2
    - 消息面权重：权重0.2（由消息面分析员提供）
    - 对照组对比结果：作为验证指标
  - 输出：candidates_50pct.csv、candidates_40pct.csv、candidates_30pct.csv
  - 状态：⏳ 待开发
  - 确认标准：筛选结果合理

- [ ] **Task 2.2.2**: filtering_logic.py - 递进筛选逻辑
  - 逻辑：先50% → 若无则40% → 若无则30%
  - 参数可调：网页参数调整面板
  - 输出：selection_candidates.csv（最终候选）
  - 状态：⏳ 待开发
  - 确认标准：递进逻辑正确，参数可调

**验收标准**：  
✅ 项目经理确认→候选股票数在预期范围内  
✅ 递进筛选逻辑正确  

---

### 📈 模块3：跟踪与报告

**任务列表**：

- [ ] **Task 2.3.1**: track_candidates_30d.py - 30天跟踪
  - 功能：跟踪候选股票30个交易日的表现
  - 指标：涨跌幅、成交量、技术形态变化
  - 输出：active_tracking.json、tracking_history.csv
  - 状态：⏳ 待开发
  - 确认标准：跟踪数据完整

- [ ] **Task 2.3.2**: performance_evaluation.py - 效果评估
  - 指标：成功率、平均涨幅、最高最低涨幅
  - 对标：与对照组对比
  - 输出：performance_report.csv
  - 状态：⏳ 待开发
  - 确认标准：评估报告生成完整

- [ ] **Task 2.3.3**: generate_daily_report.py - 日报生成
  - 输出：daily_YYYY-MM-DD.md
  - 内容：当日候选股票、筛选说明、跟踪进展
  - 状态：⏳ 待开发

- [ ] **Task 2.3.4**: generate_weekly_report.py - 周报生成
  - 输出：weekly_YYYY-W##.md
  - 内容：周度总结、策略调整、风险预警
  - 状态：⏳ 待开发

- [ ] **Task 2.3.5**: generate_monthly_report.py - 月报生成
  - 输出：monthly_YYYY-MM.csv
  - 内容：月度统计、模型优化、对照组对比
  - 状态：⏳ 待开发

**验收标准**：  
✅ 项目经理确认→跟踪数据准确，报告完整  

---

### 🌐 模块4：Dashboard基础

**任务列表**：

- [ ] **Task 2.4.1**: index.html - 主Dashboard
  - 板块1：概览指标（候选数、对照数、分离度等）
  - 板块2：候选股票列表（代码、名称、相似度、涨幅等）
  - 板块3：对照组展示（跌幅前20名）
  - 板块4：参数调整面板（基础版，可调阈值）
  - 板块5：特征重要性排名（Top 20）
  - 板块6：对比分析历史（对照vs候选对比）
  - 状态：⏳ 待开发

- [ ] **Task 2.4.2**: dashboard.js - Dashboard逻辑
  - 包含：对照组数据加载
  - 包含：对照vs候选对比逻辑
  - 包含：参数实时更新
  - 状态：⏳ 待开发

- [ ] **Task 2.4.3**: assets/data/ - Dashboard数据文件
  - candidates_data.json（候选股票数据）
  - contrast_group_data.json（对照组数据）✅ 新增
  - contrast_vs_candidates_data.json（对比数据）✅ 新增
  - tracking_data.json（跟踪数据）
  - feature_importance.json（特征重要性）
  - 状态：⏳ 待更新

**验收标准**：  
✅ 项目经理确认→Dashboard可正常显示对照组数据  
✅ 基本功能完整（查看候选、对照、对比）  

---

### 📦 阶段2预期产出

- ✅ contrast_group_30d_drop_top20.csv（对照组20只股票）
- ✅ contrast_group_features.csv（对照组88特征）
- ✅ contrast_vs_candidates_comparison.json（对比分析）
- ✅ selection_candidates.csv（最终候选股票）
- ✅ candidates_50pct.csv、candidates_40pct.csv、candidates_30pct.csv（不同阈值）
- ✅ active_tracking.json（实时跟踪数据）
- ✅ tracking_history.csv（历史跟踪记录）
- ✅ performance_report.csv（效果评估）
- ✅ daily_*.md（日报集合）
- ✅ weekly_*.md（周报集合）
- ✅ monthly_*.csv（月报集合）
- ✅ Dashboard网页（基础版，含对照组）
- ✅ 框架备份 v1.2

### 阶段2确认清单

- [ ] 项目经理确认：候选股票数在预期范围 ✅
- [ ] 项目经理确认：对照组成功识别20只股票 ✅
- [ ] 项目经理确认：对照vs候选分离度>0.8 ✅
- [ ] 项目经理确认：Dashboard可正常显示对照组数据 ✅
- [ ] 项目经理确认：跟踪数据准确 ✅

---

## 📊 阶段3详细进度：高级功能+GitHub工作流

**阶段目标**：完成密码保护、双语支持、GitHub自动化工作流、监督报告功能  
**周期**：第4周  
**负责人**：AI Agent（代码）+ 项目经理（确认）  
**预计完成时间**：2026-01-14  

### 🔐 模块1：密码保护与认证

**任务列表**：

- [ ] **Task 3.1.1**: auth.js - 网页密码认证模块
  - 功能1：无密码可以浏览（只读模式）
  - 功能2：输入密码后可修改参数（编辑模式）
  - 实现：LocalStorage存储密码状态，前端验证
  - 输出：auth.js（认证逻辑）、password.html（登录页面）
  - 状态：⏳ 待开发
  - 确认标准：密码验证功能正常，权限分层清晰

**验收标准**：  
✅ 项目经理确认→无密码可查看，密码后可编辑  
✅ 权限分层完整  

---

### 🌐 模块2：双语支持

**任务列表**：

- [ ] **Task 3.2.1**: i18n.js - 多语言（中英文）
 - 功能：支持中英文切换
  - 实现：i18n库 + JSON翻译文件
  - 覆盖：所有按钮、菜单、提示、报告
  - 输出：i18n.js、locales/zh_CN.json、locales/en_US.json
  - 状态：⏳ 待开发
  - 确认标准：所有界面元素都有中英文标签

- [ ] **Task 3.2.2**: 网页元素国际化
  - 标题：中英双标题
  - 按钮：所有按钮都有中文标签
  - 表格：列名、筛选条件中英对照
  - 提示：错误信息、成功提示都有中英版本
  - 状态：⏳ 待开发
  - 确认标准：UI完全双语化

**验收标准**：  
✅ 项目经理确认→所有按钮和页面中英双语  
✅ 中文标签齐全且准确  

---

### ⚙️ 模块3：GitHub工作流与触发机制

**任务列表**：

- [ ] **Task 3.3.1**: daily.yml - 日分析工作流
  - 触发：每日09:30 或 手动workflow_dispatch
  - 执行内容：
    - 读取本地数据（通过Self-hosted Runner）
    - 运行数据采集、特征提取、模型预测
    - 生成候选股票、对照组对比
    - 生成日报和监督报告
  - 输出：分析结果上传GitHub
  - 状态：⏳ 待开发
  - 确认标准：工作流正常执行，无报错

- [ ] **Task 3.3.2**: weekly.yml - 周报告工作流
  - 触发：每周一09:30 或 手动
  - 执行内容：生成周报、分析汇总
  - 输出：weekly_YYYY-W##.md上传GitHub
  - 状态：⏳ 待开发

- [ ] **Task 3.3.3**: monthly.yml - 月报告工作流
  - 触发：每月1日09:30 或 手动
  - 执行内容：生成月报、策略总结
  - 输出：monthly_YYYY-MM.csv上传GitHub
  - 状态：⏳ 待开发

- [ ] **Task 3.3.4**: trigger.yml - 触发机制工作流 ⭐
  - 功能：检测本地数据完成，自动启动daily.yml
  - 实现：通过github_trigger.py调用GitHub API
  - 逻辑：数据采集完成 → 触发 → 启动分析工作流
  - 输出：workflow自动启动，无需手动
  - 状态：⏳ 待开发
  - 确认标准：触发机制可靠，自动化工作流正常

- [ ] **Task 3.3.5**: deploy.yml - 部署网页工作流
  - 触发：每天 或 手动
  - 执行内容：更新Dashboard网页
  - 输出：网页部署到GitHub Pages
  - 状态：⏳ 待开发

**验收标准**：  
✅ 项目经理确认→5个yml完整配置  
✅ GitHub Actions工作流正常运行  
✅ 触发机制可靠  

---

### 📋 模块4：监督报告与管理

**任务列表**：

- [ ] **Task 3.4.1**: generate_supervisory_report.py - 监督报告生成
  - 功能：监督员工生成日常工作流状态报告
  - 内容包括：
    - GitHub工作流执行状态（成功/失败）
    - 数据采集完成情况
    - API调用统计
    - 错误日志汇总
    - 性能指标（执行时间、内存占用等）
  - 输出：supervisor_report.json
  - 状态：⏳ 待开发
  - 确认标准：报告内容完整、及时更新

- [ ] **Task 3.4.2**: monitor.html - GitHub监控页面
  - 功能1：显示Workflow实时状态（绿/红圆点）
  - 功能2：显示API调用统计
  - 功能3：功能按钮（手动触发workflow、刷新状态等）
  - 功能4：监督报告展示（中文）
  - 功能5：问题告警（红色提示）
  - 状态：⏳ 待开发
  - 确认标准：监控页面实时准确

**验收标准**：  
✅ 项目经理确认→supervisor_report.json生成  
✅ 监督报告在网页中正常显示（中文）  
✅ 告警机制正常工作  

---

### 📚 模块5：文档与使用指南

**任务列表**：

- [ ] **Task 3.5.1**: dashboard_guide.md - Dashboard使用指南
  - 内容：功能介绍、操作说明、参数调整
  - 状态：⏳ 待开发

- [ ] **Task 3.5.2**: monitor_guide.md - Monitor使用指南
  - 内容：工作流监控、故障排查
  - 状态：⏳ 待开发

- [ ] **Task 3.5.3**: parameter_guide.md - 参数调整指南
  - 内容：权重配置、阈值设置、递进筛选逻辑
  - 状态：⏳ 待开发

- [ ] **Task 3.5.4**: contrast_group_guide.md - 对照组使用指南
  - 内容：对照组原理、对比分析、效果验证
  - 状态：⏳ 待开发

- [ ] **Task 3.5.5**: api_strategy.md - API调用策略
  - 内容：API限制、优化策略、成本控制
  - 状态：⏳ 待开发

**验收标准**：  
✅ 所有使用手册已完成  
✅ 文档清晰、易于理解  

---

### 📦 阶段3预期产出

- ✅ auth.js（密码认证）
- ✅ password.html（登录页面）
- ✅ i18n.js、locales/(中英翻译文件)
- ✅ 5个GitHub workflow文件（daily.yml、weekly.yml、monthly.yml、trigger.yml、deploy.yml）
- ✅ github_trigger.py（触发机制）
- ✅ generate_supervisory_report.py（监督报告生成）
- ✅ monitor.html（监控页面）
- ✅ supervisor_report.json（监督报告数据）
- ✅ Dashboard网页（完整版，含密码、双语、监控）
- ✅ 所有使用手册（5份）
- ✅ 框架备份 v1.3

### 阶段3确认清单

- [ ] 项目经理确认：无密码可查看，密码后可编辑 ✅
- [ ] 项目经理确认：所有按钮和页面中英双语 ✅
- [ ] 项目经理确认：5个GitHub工作流完整配置 ✅
- [ ] 项目经理确认：触发机制可靠 ✅
- [ ] 项目经理确认：监督报告生成完整 ✅
- [ ] 项目经理确认：所有使用手册已完成 ✅

---

## 📊 阶段4详细进度：优化+文档+上线

**阶段目标**：性能优化、文档完善、项目上线、运维体系建立  
**周期**：第5周+  
**负责人**：AI Agent（代码）+ 项目经理（运维）  
**预计完成时间**：2026-01-21  

### 🚀 模块1：性能优化

**任务列表**：

- [ ] **Task 4.1.1**: 数据处理优化
  - 优化特征计算速度（目标：<5分钟）
  - 优化数据读写I/O（使用缓存、并行处理）
  - 优化内存占用（减少中间变量）
  - 状态：⏳ 待开发
  - 确认标准：执行时间<30分钟

- [ ] **Task 4.1.2**: 模型预测优化
  - 优化模型推理速度（目标：<2秒/个股票）
  - 使用模型量化或剪枝
  - 批量预测优化
  - 状态：⏳ 待开发
  - 确认标准：全市场预测<10分钟

- [ ] **Task 4.1.3**: 网页性能优化
  - 前端加载速度优化（压缩CSS/JS、图片优化）
  - 数据懒加载
  - 缓存策略
  - 状态：⏳ 待开发
  - 确认标准：网页加载<3秒

- [ ] **Task 4.1.4**: 数据库优化
  - 建立索引
  - 查询优化
  - 备份策略优化
  - 状态：⏳ 待开发
  - 确认标准：查询响应<100ms

**验收标准**：  
✅ 整体执行时间<30分钟  
✅ 系统可用性≥99%  

---

### 🔍 模块2：测试与验证

**任务列表**：

- [ ] **Task 4.2.1**: 单元测试
  - 测试范围：特征计算、模型预测、数据清洗
  - 覆盖率：≥80%
  - 输出：test_*.py
  - 状态：⏳ 待开发

- [ ] **Task 4.2.2**: 集成测试
  - 测试数据流：采集→提取→模型→筛选→输出
  - 测试异常处理
  - 状态：⏳ 待开发

- [ ] **Task 4.2.3**: 回归测试
  - 验证历史数据准确性
  - 对比v1.0结果（如有）
  - 状态：⏳ 待开发

- [ ] **Task 4.2.4**: 压力测试
  - 测试高并发场景
  - 测试大数据量处理
  - 状态：⏳ 待开发

**验收标准**：  
✅ 所有测试用例通过  
✅ 代码覆盖率≥80%  

---

### 📚 模块3：完整文档

**任务列表**：

- [ ] **Task 4.3.1**: README.md - 项目总览
  - 内容：项目简介、快速开始、技术栈、文件结构
  - 状态：⏳ 待开发

- [ ] **Task 4.3.2**: ARCHITECTURE.md - 系统架构文档
  - 内容：整体架构、数据流向、模块设计、扩展点
  - 状态：⏳ 待开发

- [ ] **Task 4.3.3**: API_REFERENCE.md - API参考手册
  - 内容：所有接口文档、参数说明、示例代码
  - 状态：⏳ 待开发

- [ ] **Task 4.3.4**: DEPLOYMENT.md - 部署指南
  - 内容：环境要求、安装步骤、配置说明、故障排查
  - 状态：⏳ 待开发

- [ ] **Task 4.3.5**: MAINTENANCE.md - 运维手册
  - 内容：日常维护、监控告警、备份恢复、性能调优
  - 状态：⏳ 待开发

- [ ] **Task 4.3.6**: CHANGELOG.md - 版本日志
  - 内容：版本历史、功能变更、已知问题
  - 状态：⏳ 待开发

**验收标准**：  
✅ 所有文档完整、准确、易理解  

---

### 🚀 模块4：上线部署

**任务列表**：

- [ ] **Task 4.4.1**: 生产环境配置
  - 配置生产数据库
  - 配置生产API密钥
  - 配置日志系统
  - 状态：⏳ 待开发
  - 确认标准：生产环境就绪

- [ ] **Task 4.4.2**: GitHub Actions自托管Runner配置
  - 安装Runner到自有服务器/本地机器
  - 配置Runner标签、权限、资源限制
  - 测试Runner可用性
  - 状态：⏳ 待开发
  - 确认标准：Runner安装完成，可执行workflow

- [ ] **Task 4.4.3**: 网页部署
  - 部署到GitHub Pages 或 自有服务器
  - 配置HTTPS/SSL
  - 配置域名（如有）
  - 状态：⏳ 待开发
  - 确认标准：网页可访问

- [ ] **Task 4.4.4**: 数据备份与恢复测试
  - 验证备份策略正常运作
  - 测试恢复流程
  - 记录RTO/RPO指标
  - 状态：⏳ 待开发
  - 确认标准：备份/恢复策略可靠

**验收标准**：  
✅ 项目经理确认→项目可稳定运维  
✅ 生产环境正常运作  
✅ 自动化工作流正常执行  

---

### 📋 模块5：运维与监控体系

**任务列表**：

- [ ] **Task 4.5.1**: 日志系统建立
  - 应用日志（分析日志、错误日志）
  - 系统日志（系统事件、性能指标）
  - 日志归档策略（超过30天自动清理）
  - 状态：⏳ 待开发

- [ ] **Task 4.5.2**: 监控告警体系
  - 监控项：工作流执行、API调用、数据质量、系统性能
  - 告警规则：失败告警、性能告警
  - 告警方式：邮件 或 钉钉 或 企业微信通知
  - 状态：⏳ 待开发

- [ ] **Task 4.5.3**: 定期巡检计划
  - 日巡检：工作流状态、数据更新
  - 周巡检：性能指标、错误汇总
  - 月巡检：系统整体评估、策略优化
  - 状态：⏳ 待开发

- [ ] **Task 4.5.4**: 故障应急预案
  - 常见故障处理流程
  - 应急联系方式
  - 恢复SLA承诺
  - 状态：⏳ 待开发

**验收标准**：  
✅ 运维体系完整  
✅ 监控告警正常工作  

---

### 📦 阶段4预期产出

- ✅ 优化后的脚本（性能提升30%+）
- ✅ 单元测试用例（覆盖率≥80%）
- ✅ 集成测试报告
- ✅ 完整的技术文档（6份）
- ✅ 生产环境配置
- ✅ GitHub Actions自托管Runner
- ✅ 网页部署（生产环境）
- ✅ 日志系统、监控告警体系
- ✅ 故障应急预案
- ✅ 框架备份 v1.4（最终版）

### 阶段4确认清单

- [ ] 项目经理确认：整体执行时间<30分钟 ✅
- [ ] 项目经理确认：所有单元测试通过 ✅
- [ ] 项目经理确认：所有文档完整 ✅
- [ ] 项目经理确认：生产环境正常运作 ✅
- [ ] 项目经理确认：自动化工作流正常执行 ✅
- [ ] 项目经理确认：项目可稳定运维 ✅

---

## ⚠️ 风险与问题跟踪

### 已识别风险

| # | 风险项 | 等级 | 描述 | 应对措施 | 责任人 | 状态 |
|---|--------|------|------|---------|--------|------|
| R1 | API调用频率限制 | 中 | 金融数据API可能有调用限制 | 设置请求间隔、缓存策略 | 数据分析员 | ⏳ |
| R2 | 数据质量问题 | 中 | 采集数据可能有缺值或异常 | 建立数据验证、清洗流程 | 数据分析员 | ⏳ |
| R3 | 模型过拟合 | 中 | 训练数据量不足导致过拟合 | 增加样本、正则化、交叉验证 | 算法工程师 | ⏳ |
| R4 | GitHub Actions配额 | 低 | 免费账户Actions有月度配额限制 | 使用自托管Runner | 项目经理 | ⏳ |
| R5 | 特征稳定性 | 中 | 特征在不同市场阶段可能不稳定 | 建立对照组验证、动态权重调整 | 算法工程师 | ⏳ |
| R6 | 网页访问性能 | 低 | 实时数据更新可能影响网页响应 | 前端优化、缓存策略 | 后端工程师 | ⏳ |
| R7 | 运维复杂度 | 中 | 多个程序/工作流协调困难 | 建立标准化流程、自动化脚本 | 项目经理 | ⏳ |

### 已知问题

| # | 问题描述 | 影响 | 处理状态 | 解决方案 |
|---|---------|------|---------|---------|
| I1 | 对照组样本量可能过少 | 对比分析准确性 | ⏳ 待分析 | 可动态调整对照组选择方式 |
| I2 | 30个交易日涨幅>50%可能样本过多或过少 | 候选股票数量 | ⏳ 待分析 | 支持递进筛选（50%→40%→30%） |
| I3 | 消息面权重难以量化 | 筛选逻辑复杂 | ⏳ 待分析 | 由消息面分析员手工评分 |

---

## 👥 资源配置

### 团队组成

| 职位 | 人数 | 责任 | 技能要求 |
|------|------|------|---------|
| **项目经理/Tech Lead** | 1 | 全面项目管理、技术决策、GitHub配置 | Python、GitHub、项目管理 |
| **数据分析员** | 1 | 数据采集、清洗、质量验证 | Python、SQL、数据分析 |
| **算法工程师** | 1 | 特征工程、模型训练、对照组设计 | Python、ML、统计学 |
| **后端工程师** | 1 | API开发、网页部署、系统集成 | Python、FastAPI、前端基础 |
| **消息面分析员** | 1* | 消息面权重评分、权重调整 | 金融知识、行业洞察 |
| **监督员工** | 1* | GitHub工作流监督、故障告警、问题报告 | GitHub、运维基础 |

*可选：由现有人员兼职或外部聘用

### 权限矩阵

| 系统/模块 | 项目经理 | 数据分析员 | 算法工程师 | 后端工程师 | 消息分析员 | 监督员工 |
|---------|---------|---------|---------|---------|---------|---------|
| 数据采集程序 | 完全 | 读写 | 只读 | 只读 | 只读 | 只读 |
| 特征工程 | 完全 | 读写 | 读写 | 只读 | 只读 | 只读 |
| 模型训练 | 完全 | 读 | 读写 | 只读 | 只读 | 只读 |
| 对照组配置 | 完全 | 只读 | 读写 | 读写 | 只读 | 只读 |
| Dashboard参数 | 读写 | 只读 | 读 | 读写 | 读写 | 只读 |
| GitHub工作流 | 完全 | 只读 | 只读 | 只读 | 只读 | 读 |
| 监督报告 | 读 | 只读 | 只读 | 只读 | 只读 | 读写 |

---

## 📋 每周更新项

| 项目 | 周期 | 内容 | 责任人 |
|------|------|------|--------|
| 进度跟踪.md | 每周五 | 更新各阶段进度、完成情况 | 项目经理 |
| 新聊天快速恢复.md | 每周五 | 更新重要链接、快速参考 | 项目经理 |
| 框架备份 | 每周五 | 生成最新backup_current.zip | AI Agent |
| 监督报告 | 每日16:00 | 项目日常状态监控 | 监督员工 |
| 日报 | 每日完成后 | 当日工作总结 | AI Agent |
---

## 🔗 工作规范与方法

### GitHub项目文件夹标准路径

如需链接到 projects/山脚下 GitHub仓库文件夹：

https://github.com/laobai6630-dotcom/cto/tree/main/projects/%E5%B1%B1%E8%84%9A%E4%B8%8B

### GitHub文件直接编辑方法 ⭐

✅ **已记住！** 当遇到以下情况时，直接用网页编辑：

- ✅ 需要更新GitHub文件内容
- ✅ 改动较大（如替换整个文件）
- ✅ 内容已经准备好（本地或对话中）

**操作步骤**：

1. 点击GitHub该文件的铅笔图标（或直接用编辑链接）
2. 清空现有内容，粘贴新内容
3. 填写Commit message
4. 提交

**重要提示**：不会让AI上传，因为AI可能理解错误。 这样既快速、又准确、还避免了AI误操作。👍

### 长上下文内容发送规则 ⭐

发送长篇幅内容时：

- ✅ 每部分结尾标注"此部分最后一行"内容
- ✅ 下一部分开头加上"上部分最后一行"
- ✅ 确保复制的内容完整，无遗漏

---

## 📌 重要提醒

### GitHub操作规范

**GitHub项目文件夹标准路径**

https://github.com/laobai6630-dotcom/cto/tree/main/projects/%E5%B1%B1%E8%84%9A%E4%B8%8B

**GitHub文件直接编辑方法 ⭐**

✅ 当需要更新GitHub文件内容时，直接用网页编辑：

- 点击GitHub文件的铅笔图标（或直接用编辑链接）
- 清空现有内容，粘贴新内容
- 填写Commit message
- 提交

重要：不会让AI上传，因为AI可能理解错误。 这样既快速、又准确、还避免了AI误操作。👍

### 长上下文发送规则 ⭐

发送长篇幅内容时：

- 每部分结尾标注"此部分最后一行"内容
- 下一部分开头加上"上部分最后一行"
- 确保复制的内容完整，无遗漏

---

## 📅 重要时间节点

| 节点 | 日期 | 说明 |
|------|------|------|
| 项目启动 | 2025-12-17 | 项目计划v2.0完成 |
| 阶段1启动 | 2025-12-18 | 开始基础框架搭建 |
| 阶段1完成 | 2025-12-31 | 数据采集、特征提取、ML模型完成 |
| 阶段2完成 | 2026-01-07 | 相似度筛选、对照组、跟踪、Dashboard基础完成 |
| 阶段3完成 | 2026-01-14 | 密码保护、双语、GitHub工作流、监督报告完成 |
| 框架备份v1.3 | 2026-01-14 | 阶段3完成后备份 |
| 阶段4完成 | 2026-01-21 | 性能优化、文档、上线完成 |
| 项目上线 | 2026-01-21 | 项目正式运营 |
| 总项目周期 | 120天 | 2025-12-17 ~ 2026-04-17 |

---

## 💾 框架备份策略

### 备份文件清单

| 版本 | 文件名 | 触发时点 | 内容 |
|------|--------|--------|------|
| v1.0 | framework_backup_v1.0.zip | 项目启动完成 | 初始化框架 |
| v1.1 | framework_backup_v1.1.zip | 阶段1完成 | 数据采集+特征+ML模块 |
| v1.2 | framework_backup_v1.2.zip | 阶段2完成 | 对照组+筛选+跟踪+Dashboard |
| v1.3 | framework_backup_v1.3.zip | 阶段3完成 | 密码+双语+工作流+监督 |
| v1.4 | framework_backup_v1.4.zip | 阶段4完成 | 优化+文档+上线（最终版） |
| current | framework_backup_current.zip | 每周五 | 最新备份（用于快速恢复） |

### 备份位置

projects/山脚下/框架备份/
├── framework_backup_v1.0.zip
├── framework_backup_v1.1.zip
├── framework_backup_v1.2.zip
├── framework_backup_v1.3.zip
├── framework_backup_v1.4.zip
├── framework_backup_current.zip
└── README.md (备份说明)


### 备份恢复流程

1. 从`projects/山脚下/框架备份/`下载对应版本的zip文件
2. 解压到本地开发目录
3. 运行`python scripts/verify_backup.py`验证完整性
4. 恢复成功后，继续进行开发或故障排查

---

## 📊 项目资源清单

### 已准备资源

| 资源 | 状态 | 说明 |
|------|------|------|
| 项目计划.md | ✅ 完成 | 2000+行完整计划书 |
| 进度跟踪.md | ✅ 完成 | 本文档 - 详细进度表 |
| 项目计划_目录导航.md | ✅ 完成 | 快速导航索引 |
| 新聊天快速恢复.md | ✅ 完成 | 新窗口恢复文档 |
| 四个数据采集程序 | ✅ 完成 | 日线、周线、月线、财务数据 |
| GitHub仓库 | ✅ 完成 | 已链接 |

### 待开发资源

| 资源 | 阶段 | 说明 |
|------|------|------|
| 特征提取脚本 | 1 | feature_extraction.py等 |
| ML模型 | 1 | model_training.py等 |
| 相似度筛选 | 2 | similarity_filter.py |
| Dashboard网页 | 2-3 | index.html、monitor.html |
| GitHub工作流 | 3 | daily.yml、weekly.yml等 |
| 文档 | 4 | README.md、DEPLOYMENT.md等 |

---

## 🎓 快速参考

### 常用命令

```bash
# 克隆项目
git clone https://github.com/laobai6630-dotcom/cto.git
cd cto/projects/山脚下

# 查看进度
cat 进度跟踪.md

# 启动数据采集（示例）
python scripts/data_collection/collect_daily_minute.py

# 启动特征提取（示例）
python scripts/feature_engineering/feature_extraction.py

# 提交更新到GitHub
git add .
git commit -m "完成阶段1：数据采集和特征提取"
git push origin main
常见问题速答
Q1: 为什么特征时间窗口是20个交易日？
A: 近期行为对股票形态更有代表性，20个交易日（约4周）可以捕捉"山脚下"形态的关键特征，同时避免过多历史噪音。

Q2: 对照组的跌幅前20名如何确定？
A: 每个交易日计算所有A股30个交易日的累计涨跌幅，选取跌幅最大的前20只股票作为对照组。

Q3: 递进筛选（50%→40%→30%）是什么意思？
A: 先用50%相似度阈值筛选，如果无候选则降低到40%，再无则降低到30%，确保总能找到一定数量的候选股票。

Q4: 框架备份何时生成？
A: 每个阶段完成后生成一份版本备份（v1.1~v1.4），同时每周五生成一份最新备份（backup_current.zip）用于快速恢复。

Q5: 如何确保GitHub工作流自动执行？
A: 通过github_trigger.py在本地数据采集完成后调用GitHub API，自动触发daily.yml工作流，实现无人值守自动化。

Q6: 项目可以停机维护吗？
A: 可以，但需要提前通知，暂停GitHub Actions中的定时任务，完成维护后重启。建议周末进行。

🎯 下一步行动
立即可做（第0阶段收尾）
[ ] 查看完整项目计划书 (项目计划.md)
[ ] 了解当前进度 (进度跟踪.md - 本文档)
[ ] 查看快速导航 (项目计划_目录导航.md)
[ ] 克隆GitHub仓库到本地
[ ] 准备开发环境
本周计划（第1周）
[ ] 启动阶段1
[ ] 审查四个数据采集程序
[ ] 开始Task 1.1～1.4（数据采集集成）
[ ] 开始Task 2.1～2.5（特征提取）
下周计划（第2周）
[ ] 继续阶段1后续任务
[ ] 开始Task 3.1～3.3（ML模型）
[ ] 完成阶段1验收
[ ] 生成框架备份v1.1
📞 联系与支持
项目团队
项目经理/Tech Lead: [待定]
数据分析员: [待定]
算法工程师: [待定]
后端工程师: [待定]
消息面分析员: [可选]
监督员工: [可选]
协作工具
代码仓库: GitHub (https://github.com/laobai6630-dotcom/cto/)
文档管理: GitHub Markdown
任务管理: 进度跟踪.md（本文档）
即时通讯: [待定]
获取帮助
查看相关文档和快速参考
在GitHub创建Issue报告问题
联系项目经理
参考项目计划中的FAQ章节
📝 文档维护
| 文档 | 更新周期 | 维护人 | 最后更新 |
|------|---------|--------|--------|
| 项目计划.md | 按需 | 项目经理 | 2025-12-17 |
| 进度跟踪.md | 每周五 | 项目经理 | 2025-12-18（重建版）|
| 项目计划_目录导航.md | 按需 | 项目经理 | 2025-12-17 |
| 新聊天快速恢复.md | 每周五 | 项目经理 | 2025-12-17 |

✅ 文档完整性检查
本文档内容覆盖：

✅ 项目概述和核心改动
✅ 4阶段详细进度（阶段0~4）
✅ 18步实现清单
✅ 风险与问题跟踪
✅ 资源配置与权限矩阵
✅ 每周更新项
✅ 工作规范与方法
✅ 时间节点和备份策略
✅ 快速参考和常见问题
✅ 下一步行动指南
此版本特点：

✅ 基于A股股票筛选系统（山脚下项目）
✅ 包含已有四个数据采集程序
✅ 对应项目计划.md的完整内容
✅ 结构清晰、任务详细、验收标准明确
✅ 支持团队协作、进度跟踪、备份管理
文档版本: v2.0（完整重建版）
更新时间: 2025-12-18
文档责任人: 项目经理
文档状态: ✅ 完整、准确、可直接使用
GitHub链接: https://github.com/laobai6630-dotcom/cto/blob/main/projects/山脚下/进度跟踪.md
本地路径: D:\cto\projects\山脚下\进度跟踪.md


---
